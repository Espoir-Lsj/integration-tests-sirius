{
  "uid" : "618d54067b115a1a",
  "name" : "经销商：驳回理由超长",
  "fullName" : "test_case.test_purchase_management.TestAllocateOrder#test_approve",
  "historyId" : "c4d1c6d5c79506ad18a16400e109adc5",
  "time" : {
    "start" : 1622692164313,
    "stop" : 1622692164313,
    "duration" : 0
  },
  "status" : "broken",
  "statusMessage" : "TypeError: 'NoneType' object is not subscriptable",
  "statusTrace" : "AllocateOrder_get_data = None\n\n    @pytest.fixture(scope=\"class\")\n    def AllocateOrder_get_Id(AllocateOrder_get_data):\n        response = Purchase_Management.AllocateOrder().create(reasonCode=reasonCode, sourceWarehouseId=sourceWarehouseId,\n                                                              targetWarehouseId=targetWarehouseId, goodsId=goodsId,\n                                                              goodsLotInfoId=goodsLotInfoId, kitStockId=kitStockId,\n                                                              goodsQuantity=goodsQuantity,\n>                                                             kitStockQuantity=kitStockQuantity)\n\ntest_case/conftest.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <test_case.common.Purchase_Management.AllocateOrder object at 0x124f30cd0>\nreasonCode = 'warehouse_replenishment', sourceWarehouseId = 6\ntargetWarehouseId = 7, goodsId = 761, goodsLotInfoId = 57, goodsQuantity = 1\nkitStockId = 225, kitStockQuantity = 1, Id = None\n\n    def create(self, reasonCode=None, sourceWarehouseId=None, targetWarehouseId=None,\n               goodsId=None, goodsLotInfoId=None, goodsQuantity=1, kitStockId=None, kitStockQuantity=1, Id=None):\n        url = '/allocateOrder/create'\n        body = {\n            \"baseOrderInfo\": {\n                \"id\": Id,\n                \"reasonCode\": reasonCode,\n                \"reason\": \"\",\n                \"sourceWarehouseId\": sourceWarehouseId,\n                \"targetWarehouseId\": targetWarehouseId\n            },\n            \"goodsDetailUiBeans\": [{\n                \"goodsId\": goodsId,\n                \"goodsLotInfoId\": goodsLotInfoId,\n                \"goodsQuantity\": goodsQuantity\n            }],\n            \"toolsDetailUiBeans\": [],\n            \"toolKitDetailUiBeans\": []\n        }\n        toolsDetailUiBeans = {\n            \"kitStockId\": kitStockId,\n            \"kitStockQuantity\": kitStockQuantity\n        }\n        if kitStockId:\n            body['toolsDetailUiBeans'].append(toolsDetailUiBeans)\n        #     只有供应商可创建调拨\n        response = request.post_body01(url, body)\n>       Id = response['data']['id']\nE       TypeError: 'NoneType' object is not subscriptable\n\ntest_case/common/Purchase_Management.py:119: TypeError",
  "flaky" : false,
  "newFailed" : false,
  "beforeStages" : [ {
    "name" : "AllocateOrder_get_data",
    "time" : {
      "start" : 1622692162892,
      "stop" : 1622692163954,
      "duration" : 1062
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "_session_faker",
    "time" : {
      "start" : 1622692126444,
      "stop" : 1622692126501,
      "duration" : 57
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "AllocateOrder_get_Id",
    "time" : {
      "start" : 1622692163954,
      "stop" : 1622692164109,
      "duration" : 155
    },
    "status" : "broken",
    "statusMessage" : "TypeError: 'NoneType' object is not subscriptable\n",
    "statusTrace" : "  File \"/usr/local/lib/python3.7/site-packages/pluggy/callers.py\", line 187, in _multicall\n    res = hook_impl.function(*args)\n  File \"/usr/local/lib/python3.7/site-packages/_pytest/fixtures.py\", line 1126, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/usr/local/lib/python3.7/site-packages/_pytest/fixtures.py\", line 925, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/Users/liangshoujie/PycharmProjects/integration-tests-sirius/test_case/conftest.py\", line 56, in AllocateOrder_get_Id\n    kitStockQuantity=kitStockQuantity)\n  File \"/Users/liangshoujie/PycharmProjects/integration-tests-sirius/test_case/common/Purchase_Management.py\", line 119, in create\n    Id = response['data']['id']\n",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  }, {
    "name" : "res_data",
    "time" : {
      "start" : 1622692162892,
      "stop" : 1622692162892,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "afterStages" : [ {
    "name" : "res_data::0",
    "time" : {
      "start" : 1622692164421,
      "stop" : 1622692164421,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "labels" : [ {
    "name" : "story",
    "value" : "调拨单"
  }, {
    "name" : "feature",
    "value" : "采购管理"
  }, {
    "name" : "tag",
    "value" : "@pytest.mark.usefixtures('res_data')"
  }, {
    "name" : "parentSuite",
    "value" : "test_case"
  }, {
    "name" : "suite",
    "value" : "test_purchase_management"
  }, {
    "name" : "subSuite",
    "value" : "TestAllocateOrder"
  }, {
    "name" : "host",
    "value" : "liangshoujiedeMacBook-Pro.local"
  }, {
    "name" : "thread",
    "value" : "12363-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "test_case.test_purchase_management"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "case",
    "value" : "{'approve': False, 'rejectReason': '00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'}"
  }, {
    "name" : "expected",
    "value" : "'拒绝原因超出长度限制'"
  }, {
    "name" : "title",
    "value" : "'经销商：驳回理由超长'"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ {
      "uid" : "5c51085fde0c781",
      "status" : "broken",
      "statusDetails" : "TypeError: 'NoneType' object is not subscriptable",
      "time" : {
        "start" : 1622534743830,
        "stop" : 1622534743830,
        "duration" : 0
      }
    } ],
    "categories" : [ {
      "name" : "Test defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ "@pytest.mark.usefixtures('res_data')" ]
  },
  "source" : "618d54067b115a1a.json",
  "parameterValues" : [ "{'approve': False, 'rejectReason': '00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001'}", "'拒绝原因超出长度限制'", "'经销商：驳回理由超长'" ]
}